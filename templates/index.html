{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IP Geolocator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="{% static 'main.css' %}" />
    <!-- <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script> -->
  </head>
  <body>
    <!-- <h1>Hello World</h1> -->

    <!-- <h1>
      <py-script>
from datetime import datetime
now = datetime.now()
now.strftime("%m/%d/%Y, %H:%M:%S")
      </py-script>
    </h1> -->

    <div class="main">
      <div class="container">
        <div class="card">
          <div class="top-header">
            <h1>Find Location</h1>
          </div>
          <div class="main-body">
            <form action="/get_ip" method="POST">
              {% csrf_token %}
              <label>Enter any IPv4, IPv6 address or domain name:</label>
              <input
                type="text"
                name="address"
                placeholder="255.255.255.255"
                value="{{ ip }}"
                class="form-control form-control-lg"
              />
              <br>
              <button class="btn form-control search-btn">Search</button>
            </form>
          </div>
          <div class="results-div">
            <div class="top-header">
              <h3>Results for <b>{{ ip }}</b></h3>
            </div>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Result</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>IP Address</td>
                  <td>{{ user.ip }}</td>
                </tr>
                <tr>
                  <td>Continent Name</td>
                  <td>{{ user.continent_name }}</td>
                </tr>
                <tr>
                  <td>Country Name</td>
                  <td>{{ user.country_name }}</td>
                </tr>
                <tr>
                  <td>State or Province</td>
                  <td>{{ user.state_prov }}</td>
                </tr>
                <tr>
                  <td>City</td>
                  <td>{{ user.city }}</td>
                </tr>
                <tr>
                  <td>Latitude</td>
                  <td id="lat">{{ user.latitude }}</td>
                </tr>
                <tr>
                  <td>Longitude</td>
                  <td id="lon">{{ user.longitude }}</td>
                </tr>
                <tr>
                  <td>Calling Code</td>
                  <td>{{ user.calling_code }}</td>
                </tr>
                <tr>
                  <td>Languages</td>
                  <td>{{ user.languages }}</td>
                </tr>
                <tr>
                  <td>Country Flag</td>
                  <td><img src="{{ user.country_flag }}" /></td>
                </tr>
                <tr>
                  <td>Internet Service Provider</td>
                  <td>{{ user.isp }}</td>
                </tr>
                <tr>
                  <td>ISP Orginization</td>
                  <td>{{ user.organization }}</td>
                </tr>
                <tr>
                  <td>Autonomous System Numbers</td>
                  <td>{{ user.asn }}</td>
                </tr>
                <tr>
                  <td>Currency</td>
                  <td>{{ user.currency.name }} ({{ user.currency.code }})</td>
                </tr>
                <tr>
                  <td>Current Time</td>
                  <td>{{ user.time_zone.current_time }}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

  </body>
</html>
